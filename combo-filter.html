<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Title -->
  <title>Avanan | FILTERS</title>

  <!-- Required Meta Tags Always Come First -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Favicon -->
  <link rel="shortcut icon" href="favicon.ico">

  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

  <!-- GOOGLE FONTS LINK -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900idisplay=swap" rel="stylesheet">

  <!-- CSS Front Template -->
  <link rel="stylesheet" href="assets/css/doc-theme.css">

  <!-- CSS Front Doc -->
  <link rel="stylesheet" href="assets/css/docs.css">






  <style type="text/css">
    body {
      font-family: sans-serif;
    }

    .item {
      width: 80px;
      height: 80px;
      padding: 5px;
      margin: 5px;
      color: white;
      float: left;
    }

    label { margin-right: 5px; }

    p {
      margin: 0;
    }

    #filter-display {
      font-size: 18px;
      padding: 0.5em;
      border: 1px solid #CCC;
      color: blue;
    }

    .red { background: red; }
    .blue { background: blue; }
    .green { background: green; }
    .yellow { background: yellow; color: black; }


    div.item > p {
      color: #222;
      font-weight: bold;
    }

  </style>





</head>

<body>


<h1>Isotope combination filters with checkboxes 2</h1>

<div id="options">
  <div class="option-set" data-group="brand">
    <label><input type="checkbox" value=".brand1" /> brand1</label>
    <label><input type="checkbox" value=".brand2" /> brand2</label>
    <label><input type="checkbox" value=".brand3" /> brand3</label>
    <label><input type="checkbox" value=".brand4" /> brand4</label>
  </div>
  <div class="option-set" data-group="type">
    <label><input type="checkbox" value=".alpha" /> alpha</label>
    <label><input type="checkbox" value=".beta" /> beta</label>
    <label><input type="checkbox" value=".gamma" /> gamma</label>
    <label><input type="checkbox" value=".delta" /> delta</label>
  </div>
  <div class="option-set" data-group="color">
    <label><input type="checkbox" value=".red" /> red</label>
    <label><input type="checkbox" value=".blue" /> blue</label>
    <label><input type="checkbox" value=".green" /> green</label>
    <label><input type="checkbox" value=".yellow" /> yellow</label>
  </div>
  <div class="option-set" data-group="size">
    <label><input type="checkbox" value=".size8" /> size8</label>
    <label><input type="checkbox" value=".size9" /> size9</label>
    <label><input type="checkbox" value=".size10" /> size10</label>
    <label><input type="checkbox" value=".size11" /> size11</label>
  </div>
</div>

<p id="filter-display"></p>

<!-- <div id="container"></div> -->

<div id="container" style="position: relative; height: 1170px;">
  <div class="item brand1 alpha red size8" style="position: absolute; left: 0px; top: 0px;">
    <p>brand1</p><p>alpha</p><p>size8</p>
  </div>
  <div class="item brand2 beta red size9" style="position: absolute; left: 90px; top: 0px;">
    <p>brand2</p><p>beta</p><p>size9</p>
  </div>
  <div class="item brand3 gamma red size10" style="position: absolute; left: 180px; top: 0px;">
    <p>brand3</p><p>gamma</p><p>size10</p>
  </div>
  <div class="item brand4 delta red size11" style="position: absolute; left: 270px; top: 0px;">
    <p>brand4</p><p>delta</p><p>size11</p>
  </div>
  <div class="item brand1 alpha blue size8" style="position: absolute; left: 360px; top: 0px;">
    <p>brand1</p><p>alpha</p><p>size8</p>
  </div>
  <div class="item brand2 beta blue size9" style="position: absolute; left: 450px; top: 0px;">
    <p>brand2</p><p>beta</p><p>size9</p>
  </div>
  <div class="item brand3 gamma blue size10" style="position: absolute; left: 540px; top: 0px;">
    <p>brand3</p><p>gamma</p><p>size10</p>
  </div>
  <div class="item brand4 delta blue size11" style="position: absolute; left: 540px; top: 0px;">
    <p>brand4</p><p>delta</p><p>size10</p>
  </div>
  <div class="item brand1 alpha green size8" style="position: absolute; left: 360px; top: 0px;">
    <p>brand1</p><p>alpha</p><p>size8</p>
  </div>
  <div class="item brand2 beta green size9" style="position: absolute; left: 450px; top: 0px;">
    <p>brand2</p><p>beta</p><p>size9</p>
  </div>
  <div class="item brand3 gamma green size10" style="position: absolute; left: 540px; top: 0px;">
    <p>brand3</p><p>gamma</p><p>size10</p>
  </div>
  <div class="item brand4 delta green size11" style="position: absolute; left: 540px; top: 0px;">
    <p>brand4</p><p>delta</p><p>size10</p>
  </div>
  <div class="item brand1 alpha yellow size8" style="position: absolute; left: 360px; top: 0px;">
    <p>brand1</p><p>alpha</p><p>size8</p>
  </div>
  <div class="item brand2 beta yellow size9" style="position: absolute; left: 450px; top: 0px;">
    <p>brand2</p><p>beta</p><p>size9</p>
  </div>
  <div class="item brand3 gamma yellow size10" style="position: absolute; left: 540px; top: 0px;">
    <p>brand3</p><p>gamma</p><p>size10</p>
  </div>
  <div class="item brand4 delta yellow size11" style="position: absolute; left: 540px; top: 0px;">
    <p>brand4</p><p>delta</p><p>size10</p>
  </div>
</div>




<script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/jquery-migrate/jquery-migrate.min.js"></script>
  <script src="assets/vendor/popper.js/popper.min.js"></script>
  <script src="assets/vendor/bootstrap/bootstrap.min.js"></script>


<script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>


<script type="text/javascript">
/*jshint browser:true, undef: true, unused: true, jquery: true */

// store filter per group
var filters = {};

// only used to dynamically generate items
var data = {
  brands: [ 'brand1', 'brand2', 'brand3', 'brand4' ],
  productTypes: [ 'alpha', 'beta', 'gamma', 'delta' ],
  colors: [ 'red', 'blue', 'green', 'yellow' ],
  sizes: [ 'size8', 'size9', 'size10', 'size11' ],
};

var $container = $('#container');

createContent();

var $filterDisplay = $('#filter-display');

$container.isotope();
// do stuff when checkbox change
$('#options').on( 'change', function( event ) {
  var checkbox = event.target;
  var $checkbox = $( checkbox );
  var group = $checkbox.parents('.option-set').attr('data-group');
  // create array for filter group, if not there yet
  var filterGroup = filters[ group ];
  if ( !filterGroup ) {
    filterGroup = filters[ group ] = [];
  }
  // add/remove filter
  if ( checkbox.checked ) {
    // add filter
    filterGroup.push( checkbox.value );
  } else {
    // remove filter
    var index = filterGroup.indexOf( checkbox.value );
    filterGroup.splice( index, 1 );
  }
  
  var comboFilter = getComboFilter();
  $container.isotope({ filter: comboFilter });
  $filterDisplay.text( comboFilter );
});



function getComboFilter() {
  var combo = [];
  for ( var prop in filters ) {
    var group = filters[ prop ];
    if ( !group.length ) {
      // no filters in group, carry on
      continue;
    }
    // add first group
    if ( !combo.length ) {
      combo = group.slice(0);
      continue;
    }
    // add additional groups
    var nextCombo = [];
    // split group into combo: [ A, B ] & [ 1, 2 ] => [ A1, A2, B1, B2 ]
    for ( var i=0; i < combo.length; i++ ) {
      for ( var j=0; j < group.length; j++ ) {
        var item = combo[i] + group[j];
        nextCombo.push( item );
      }
    }
    combo = nextCombo;
  }
  var comboFilter = combo.join(', ');
  return comboFilter;
}


// helper made to make items
function createContent() {
  var brand, productType, color, size;
  var items = '';
  // dynamically create content
  for (var i=0, len1 = data.brands.length; i < len1; i++) {
    brand = data.brands[i];
    for (var j=0, len2 = data.productTypes.length; j < len2; j++) {
      productType = data.productTypes[j];
        for (var l=0, len3 = data.colors.length; l < len3; l++) {
        color = data.colors[l];
        for (var k=0, len4 = data.sizes.length; k < len4; k++) {
          size = data.sizes[k];
          var itemHtml = '<div class="item ' + brand + ' ' +
            productType + ' ' + color + ' ' + size + '">' +
            '<p>' + brand + '</p>' +
            '<p>' + productType + '</p>' +
            '<p>' + size + '</p>' +
            '</div>';
            items += itemHtml;
        }
      }
    }
  }

  // $container.append( items );
}


</script>

  
</body>
</html>